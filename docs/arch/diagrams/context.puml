@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

Person(player, "Player", "Performs movements in front of the camera")
Person(creator, "Content Creator", "Provides recorded choreography for the game")

System_Ext(camera, "Camera", "Captures real-time video of the player")
System_Ext(mediapipe, "MediaPipe", "Detects human poses from video")
System_Ext(flatbuffers, "FlatBuffers", "Serializes and deserializes pose data")
System_Ext(bevy, "Bevy Engine", "Visualizes poses and game feedback")

System(controller, "Pose Controller", "Detects poses and streams them over WebSocket")
System(game, "Pose Game", "Receives pose data via WebSocket and visualizes feedback")

player --> camera : "Performs dance moves"
camera --> controller : "Streams raw video"
controller --> mediapipe : "Detects pose landmarks"
controller --> flatbuffers : "Serializes pose frames"
controller --> game : "Streams FlatBuffers over WebSocket"
creator --> game : "Provides recorded choreography"
game --> bevy : "Visualizes both recorded & live poses"

@enduml

